import argparse
import logging


def handle_cmdline():
    # TODO: add help messages
    parser = argparse.ArgumentParser(formatter_class=argparse.ArgumentDefaultsHelpFormatter)
    parser.add_argument("--yaml", default=None, help="TODO")
    parser.add_argument("--log", default="info", choices=["critical", "error", "warning", "info", "debug"], help="TODO")
    # TODO: introduce stages (query, filter_isol, variations, filter_?, write, generate,...)
    parser.add_argument("--until", type=int, default=None, choices=[0, 1, 2, 3], help="TODO")
    parser.add_argument("--times", action="store_true", default=None, help="TODO")
    parser.add_argument("--append-times", action="store_true", default=None, help="TODO")
    parser.add_argument("--progress", action="store_true", default=None, help="TODO")
    parser.add_argument("--host", default=None, help="TODO")
    parser.add_argument("--port", type=int, default=None, help="TODO")
    parser.add_argument("--session", default=None, help="TODO")
    parser.add_argument("--limit-results", type=int, default=None, help="TODO")
    parser.add_argument("--min-inputs", type=int, default=None, help="TODO")
    parser.add_argument("--max-inputs", type=int, default=None, help="TODO")
    parser.add_argument("--min-outputs", type=int, default=None, help="TODO")
    parser.add_argument("--max-outputs", type=int, default=None, help="TODO")
    parser.add_argument("--max-in-operands", type=int, default=None, help="TODO")
    parser.add_argument("--max-out-operands", type=int, default=None, help="TODO")
    parser.add_argument("--max-inout-operands", type=int, default=None, help="TODO")
    # TODO: --max-constants
    parser.add_argument("--max-nodes", type=int, default=None, help="TODO")
    parser.add_argument("--max-enc-footprint", type=float, default=None, help="TODO")
    parser.add_argument("--max-enc-weight", type=float, default=None, help="TODO")
    parser.add_argument("--min-enc-bits-left", type=int, default=None, help="TODO")
    parser.add_argument("--min-nodes", type=int, default=None, help="TODO")
    parser.add_argument("--min-path-length", type=int, default=None, help="TODO")
    parser.add_argument("--max-path-length", type=int, default=None, help="TODO")
    parser.add_argument("--max-path-width", type=int, default=None, help="TODO")
    parser.add_argument("--instr-predicates", type=int, default=None, help="TODO")
    parser.add_argument("--allowed_reg_classes", type=int, default=None, help="TODO")
    parser.add_argument("--function", "--func", default=None, help="TODO")
    parser.add_argument("--basic-block", "--bb", default=None, help="TODO")
    parser.add_argument("--stage", type=int, default=None, help="TODO")
    parser.add_argument("--ignore-names", default=None, help="TODO")
    parser.add_argument("--ignore-op-types", default=None, help="TODO")
    parser.add_argument("--ignore-const-inputs", action="store_true", default=None, help="TODO")
    parser.add_argument("--xlen", type=int, default=None, help="TODO")
    parser.add_argument("--output-dir", "-o", default=None, help="TODO")
    parser.add_argument("--write-func", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-func-fmt", type=int, default=None, help="TODO")
    # parser.add_argument("--write-func-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-sub", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-sub-fmt", type=int, default=None, help="TODO")
    parser.add_argument("--write-sub-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-io-sub", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-io-sub-fmt", type=int, default=None, help="TODO")
    parser.add_argument("--write-io-sub-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-tree", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-tree-fmt", type=int, default=None, help="TODO")
    parser.add_argument("--write-tree-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-gen", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-gen-fmt", type=int, default=None, help="TODO")
    parser.add_argument("--write-gen-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-pie", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-pie-fmt", type=int, default=None, help="TODO")
    parser.add_argument("--write-pie-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-sankey", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-sankey-fmt", type=int, default=None, help="TODO")
    parser.add_argument("--write-sankey-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-df", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-df-fmt", type=int, default=None, help="TODO")
    parser.add_argument("--write-df-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-index", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-index-fmt", type=int, default=None, help="TODO")
    parser.add_argument("--write-index-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-hdf5", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-hdf5-flt", type=int, default=None, help="TODO")
    parser.add_argument("--read-hdf5", action="store_true", default=None, help="TODO")
    parser.add_argument("--read-hdf5-flt", type=int, default=None, help="TODO")
    parser.add_argument("--write-queries", action="store_true", default=None, help="TODO")
    parser.add_argument("--write-query-metrics", action="store_true", default=None, help="TODO")
    parser.add_argument("--allowed-enc-sizes", type=int, nargs="+", default=None, help="TODO")
    parser.add_argument(
        "--allowed-imm_widths", type=int, nargs="+", default=None, help="TODO"
    )  # TODO: use
    parser.add_argument("--min-iso-weight", type=float, default=None, help="TODO")
    parser.add_argument("--max-loads", type=int, default=None, help="TODO")
    parser.add_argument("--max-stores", type=int, default=None, help="TODO")
    parser.add_argument("--max-mems", type=int, default=None, help="TODO")
    parser.add_argument("--max-branches", type=int, default=None, help="TODO")
    parser.add_argument("--max-operands", type=int, default=None, help="TODO")
    parser.add_argument("--max-reg-operands", type=int, default=None, help="TODO")
    parser.add_argument("--max-imm-operands", type=int, default=None, help="TODO")  # TODO: use
    parser.add_argument("--enable-variation-reuse-io", action="store_true", default=None, help="TODO")
    parser.add_argument("--halt-on-error", action="store_true", default=None, help="TODO")
    parser.add_argument("--maxmisos", default=None, help="Comma separated list of maxmiso IDXs to consider")
    args = parser.parse_args()
    logging.basicConfig(level=getattr(logging, args.log.upper()))
    logging.getLogger("neo4j.io").setLevel(logging.INFO)
    logging.getLogger("neo4j.pool").setLevel(logging.INFO)
    return args
